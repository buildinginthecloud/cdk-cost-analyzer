{
  "enabled": true,
  "name": "Auto Test on Save",
  "description": "Automatically run tests when TypeScript or JavaScript files are saved with minimal verbosity",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "**/*.ts",
      "**/*.js",
      "**/*.tsx",
      "**/*.jsx"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "A code file has been saved. Run the appropriate tests for this file and report any failures. IMPORTANT:\n1. Use Projen test command: npx projen test:silent (which runs vitest with --silent flag)\n2. For specific test files, use: npx vitest run --silent <test-file-path>\n3. If this is a test file, run it directly\n4. If this is a source file, find and run related tests\n5. Keep output minimal to prevent session timeouts"
  }
}